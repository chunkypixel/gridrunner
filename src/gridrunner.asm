;
; **** ZP FIELDS **** 
;
fC9 = $C9
;
; **** ZP ABSOLUTE ADRESSES **** 
;
a02 = $02
a03 = $03
a04 = $04
a05 = $05
a06 = $06
a07 = $07
a08 = $08
a09 = $09
a0A = $0A
a0B = $0B
a0C = $0C
a0D = $0D
a0E = $0E
a0F = $0F
a10 = $10
a11 = $11
a12 = $12
a13 = $13
a14 = $14
a15 = $15
a16 = $16
a17 = $17
a18 = $18
a19 = $19
a1A = $1A
a1B = $1B
a1C = $1C
a1D = $1D
a1F = $1F
a20 = $20
a21 = $21
a22 = $22
a23 = $23
a24 = $24
a25 = $25
a26 = $26
a27 = $27
a28 = $28
a29 = $29
a2A = $2A
a2B = $2B
a2D = $2D
a30 = $30
a33 = $33
a34 = $34
a35 = $35
a36 = $36
aA5 = $A5
aC5 = $C5
aFC = $FC
aFD = $FD
aFE = $FE
aFF = $FF
;
; **** ZP POINTERS **** 
;
p01 = $01
p02 = $02
p06 = $06
p07 = $07
p1F = $1F
p24 = $24
p83 = $83
pCA = $CA
pFC = $FC
pFE = $FE
;
; **** FIELDS **** 
;
f0340 = $0340
f0360 = $0360
f03FF = $03FF
f040E = $040E
f040F = $040F
f041B = $041B
f04FA = $04FA
f04FD = $04FD
f054A = $054A
f054D = $054D
f0592 = $0592
f807F = $807F
f871F = $871F
f881F = $881F
f8847 = $8847
f8BC0 = $8BC0
f8BC8 = $8BC8
f8C50 = $8C50
f8C62 = $8C62
f8CB4 = $8CB4
f8CD4 = $8CD4
f8CF4 = $8CF4
f8DE0 = $8DE0
f8DF0 = $8DF0
f8E00 = $8E00
f8F00 = $8F00
fD7FF = $D7FF
fD8FA = $D8FA
fD8FD = $D8FD
fD94A = $D94A
fD94D = $D94D
fD992 = $D992
;
; **** ABSOLUTE ADRESSES **** 
;
a0002 = $0002
a0003 = $0003
a0427 = $0427
a0557 = $0557
a0558 = $0558
a055E = $055E
a055F = $055F
aD95E = $D95E
aD95F = $D95F
aDC11 = $DC11
;
; **** POINTERS **** 
;
p0101 = $0101
p0102 = $0102
p0116 = $0116
p0313 = $0313
p03F0 = $03F0
p0400 = $0400
p0450 = $0450
p05FF = $05FF
p070F = $070F
p0800 = $0800
p4008 = $4008
p8000 = $8000
pD000 = $D000
;
; **** EXTERNAL JUMPS **** 
;
e04D0 = $04D0
e3030 = $3030
e8015 = $8015
e8020 = $8020
e8030 = $8030
e8036 = $8036
e8040 = $8040
e8056 = $8056
e8060 = $8060
e80A0 = $80A0
e80D2 = $80D2
e80E5 = $80E5
e80F7 = $80F7
e8100 = $8100
e8163 = $8163
e8172 = $8172
e818B = $818B
e8191 = $8191
e81A2 = $81A2
e821B = $821B
e8230 = $8230
e8233 = $8233
e8237 = $8237
e824F = $824F
e8264 = $8264
e82EC = $82EC
e8300 = $8300
e8373 = $8373
e8380 = $8380
e8386 = $8386
e8388 = $8388
e8393 = $8393
e83A0 = $83A0
e83A3 = $83A3
e83E8 = $83E8
e8400 = $8400
e8450 = $8450
e8470 = $8470
e84F8 = $84F8
e8573 = $8573
e859B = $859B
e85F8 = $85F8
e85FD = $85FD
e862F = $862F
e8635 = $8635
e86D0 = $86D0
e86D7 = $86D7
e86EE = $86EE
e8728 = $8728
e8748 = $8748
e8753 = $8753
e876C = $876C
e87CB = $87CB
e8801 = $8801
e8806 = $8806
e8818 = $8818
e8870 = $8870
e888A = $888A
e889A = $889A
e88C9 = $88C9
e8924 = $8924
e896A = $896A
e8995 = $8995
e89A0 = $89A0
e89AB = $89AB
e89C1 = $89C1
e8A11 = $8A11
e8A53 = $8A53
e8A99 = $8A99
e8AA4 = $8AA4
e8AC1 = $8AC1
e8AC8 = $8AC8
e8ADE = $8ADE
e8AE9 = $8AE9
e8AF8 = $8AF8
e8B24 = $8B24
e8B60 = $8B60
e8BB1 = $8BB1
e8BBB = $8BBB
e8BD2 = $8BD2
e8BEC = $8BEC
e8BFC = $8BFC
e8C17 = $8C17
e8C2D = $8C2D
e8C75 = $8C75
e8D16 = $8D16
e8D52 = $8D52
e8D57 = $8D57
e8D5E = $8D5E
e8D66 = $8D66
e8D70 = $8D70
e8D78 = $8D78
e8D8E = $8D8E
e8DB0 = $8DB0
e8DC0 = $8DC0
e8DC6 = $8DC6
eE518 = $E518
;
; **** PREDEFINED LABELS **** 
;
ROM_RESTORj = $FD15
ROM_RAMTASj = $FD50
ROM_IOINITj = $FDA3
ROM_CHROUT = $FFD2

        * = $0801

; 10 SYS 2061
; Used to execute the code at address $080d (2061).
        .BYTE $0B,$08 ;ANC #$08
        .BYTE $0A,$00,$9E,$32,$30,$36,$31,$00 ; SYS 2061
        .BYTE $00,$00
; $080d
        LDY #$00
        LDA #$09
        STA aFD
        LDA #$80
        STA aFF
        STY aFC
        STY aFE
b081B   LDA (pFC),Y
        STA (pFE),Y
        INY 
        BNE b081B
        INC aFD
        INC aFF
        LDA #$A0
        CMP aFF
        BNE b081B
        SEI 
        JMP (p8000)

        .TEXT "        PRG   ", $00
p083F   .TEXT $5F, $08, $0F, $00, "  ", $22,"C-64 BACKUP.BANK",$22," PRG   ", $00
        .TEXT $7F, $08, $09, $00, "   ",$22,"LOPAGE $4 $48",$22,"    PRG  ", $00
        .TEXT $9F, $08, $11, $00, "  ", $22,"WEDGE",$22,"            PRG   ", $00
        .TEXT $BF, $08, $02, $00, "   ",$22,"SYSTEM SET",$22,"       PRG  ", $00
        .TEXT $DF, $08, $05, $00, "   ",$22,"UNSCRATCH",$22,"        PRG  ", $00
        .TEXT $FF, $08, $07, $00, "   ",$22,"LODATA",$22,"           PRG  "

        BRK #$1F
        CMP (p83,X)
b0902   .BYTE $E2,$83 ;NOP #$83
        BRK #$00
        BRK #$00
        BRK #$00
        .BYTE $8F,$9D,$00 ;SAX $009D
        AND (pCA,X)
        BNE b0902
        JMP e8100

        NOP 
        INX 
        CPX #$07
        BNE b0962
        JMP e8D8E

        .BYTE $EA,$EA,$EA,$20,$8B,$81,$C9,$07
        .BYTE $F0,$01
        RTS 

        JMP e8ADE

        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        AND #$1F
        CMP #$18
        BPL b093A
        STA f1600,X
        RTS 

b093A   LDA a0C
        JMP e8036

        NOP 
        DEC f1500,X
        LDA f1500,X
        AND #$3F
        CMP #$27
        BPL b0950
        STA f1500,X
        RTS 

b0950   LDA a0B
        STA f1500,X
        RTS 

        DEC f1600,X
        LDA f1600,X
        JMP e8030

        NOP 
        LDX #$00
b0962   LDA f040F,X
        CMP f041B,X
        BNE b0970
        JMP e8015

b096D   JMP e8D8E

b0970   BMI b096D
b0972   LDA f040F,X
        STA f041B,X
        INX 
        CPX #$07
        BNE b0972
        JMP e8D8E

        .BYTE $3C,$3D,$20,$31,$39,$38,$32,$20
        .BYTE $2B,$27,$2F,$20,$20,$2E,$22,$27
        .BYTE $2F,$2F,$20,$2A,$24,$22,$27,$20
        .BYTE $3A    ;NOP 
        BMI b09BB
        AND #$27
        AND (p24,X)
        ROL aA5
        AND fC9,X
        JSR e04D0
        LDA #$01
        STA a35
        LDA #$30
        STA a0557
        STA a0558
        LDX a35
b09B4   INC a0558
        LDA a0558
b09BB   =*+$01
        CMP #$3A
        BNE b09C6
        LDA #$30
        STA a0558
        INC a0557
b09C6   DEX 
        BNE b09B4
        LDX #$30
b09CB   JSR e8386
        DEX 
        BNE b09CB
        RTS 

        LDX #$20
b09D4   LDA f807F,X
        STA f0592,X
        LDA #$07
        STA fD992,X
        DEX 
        BNE b09D4
        JMP e8DC0

        LDA #$34
        STA a0427
        LDX #$07
        LDA #$30
b09EE   STA f040E,X
        DEX 
        BNE b09EE
        JMP e8C2D

b09F7   LDA aC5
        CMP #$29
        BEQ b09F7
        RTS 

        NOP 
        NOP 
        LDA #>pD000
        STA a03
        LDA #<pD000
        STA a02
        LDY #$18
        TYA 
        STA (p02),Y
        LDY #$20
        LDA #$00
        STA (p02),Y
        INY 
        STA (p02),Y
        LDA #$0A
        STA $D401    ;Voice 1: Frequency Control - High-Byte
        STA $D405    ;Voice 1: Attack / Decay Cycle Control
        STA $D40C    ;Voice 2: Attack / Decay Cycle Control
        LDA #$00
        STA $D406    ;Voice 1: Sustain / Release Cycle Control
        STA $D40D    ;Voice 2: Sustain / Release Cycle Control
        LDA #$05
        STA $D408    ;Voice 2: Frequency Control - High-Byte
        LDX #$00
        LDA #<p0400
        STA a02
        LDA #>p0400
        STA a03
b0A38   LDA a02
        STA f0340,X
        LDA a03
        STA f0360,X
        LDY #$00
        LDA #$20
b0A46   STA (p02),Y
        INY 
        CPY #$28
        BNE b0A46
        LDA a02
        CLC 
        ADC #$28
        STA a02
        LDA a03
        ADC #$00
        STA a03
        INX 
        CPX #$18
        BNE b0A38
        JMP e8818

        RTS 

        LDX a03
        LDY a02
        LDA f0340,X
        STA a06
        LDA f0360,X
        STA a07
        RTS 

        JSR e8163
        LDA a04
        STA (p06),Y
        LDA a07
        CLC 
        ADC #$D4
        STA a07
        LDA a07
        LDA a07
        STA a07
        LDA a05
        STA (p06),Y
        RTS 

        JSR e8163
        LDA (p06),Y
        RTS 

        LDA #$00
        STA $D404    ;Voice 1: Control Register
        STA $D40B    ;Voice 2: Control Register
        LDA #$81
        STA $D404    ;Voice 1: Control Register
        STA $D40B    ;Voice 2: Control Register
        RTS 

        LDA #$02
        STA a08
        LDA #>p083F
        STA a05
        LDA #<p083F
        STA a04
b0AAE   LDA #$00
        STA $D412    ;Voice 3: Control Register
        LDA #$00
        STA $D412    ;Voice 3: Control Register
        LDA #$02
        STA a09
b0ABC   LDA a09
        STA a03
        LDA a08
        STA a02
        JSR e8172
        JSR e8191
        INC a09
        LDA a09
        CMP #$16
        BNE b0ABC
        LDX #$01
b0AD4   JSR e8230
        DEY 
        BNE b0ADA
b0ADA   DEX 
        BNE b0AD4
        INC a08
        LDA a08
        CMP #$27
        BNE b0AAE
        LDA #$02
        STA a08
        LDA #$00
        STA a04
b0AED   LDA #$01
        STA a09
b0AF1   LDA a09
        STA a02
        LDA a08
        STA a03
        JSR e8172
        JSR e8191
        INC a09
        LDA a09
        CMP #$27
        BNE b0AF1
        LDX #$01
b0B09   JSR e8230
        DEY 
        BNE b0B0F
b0B0F   DEX 
        BNE b0B09
        INC a08
        LDA a08
        CMP #$16
        BNE b0AED
b0B1A   RTS 

        LDA aC5
        CMP #$29
        BNE b0B1A
b0B21   LDA aC5
        CMP #$29
        BEQ b0B21
b0B27   LDA aC5
        CMP #$29
        BNE b0B27
        JMP e80F7

        JMP e8233

        LDA #$04
        STA a0A
        INC a0A
        LDA a0A
        CMP #$04
        BNE b0B40
        RTS 

b0B40   LDA a08
        STA $D401    ;Voice 1: Frequency Control - High-Byte
        LDA a08
        ADC #$01
        STA $D408    ;Voice 2: Frequency Control - High-Byte
        JMP e8237

        LDA #$0F
        STA a0A
        LDA #$02
        STA $D408    ;Voice 2: Frequency Control - High-Byte
        LDA #$00
        STA $D404    ;Voice 1: Control Register
        STA $D40B    ;Voice 2: Control Register
        LDA #<p0116
        STA a04
        LDA #>p0116
        STA a05
        LDA #$00
        STA $D40B    ;Voice 2: Control Register
        LDA #$81
        STA $D40B    ;Voice 2: Control Register
        LDA #$15
        STA a03
        LDA #$14
        CLC 
        SBC a0A
        STA a02
        JSR e8172
        LDA #$14
        CLC 
        ADC a0A
        STA a02
        JSR e8172
        LDA a03
        CLC 
        SBC a0A
        STA a03
        JSR e8172
        LDA #$14
        STA a02
        JSR e8172
        LDA #$14
        SBC a0A
        STA a02
        JSR e8172
        INC a04
        LDA a04
        CMP #$19
        BNE b0BAE
        LDA #$16
b0BAE   STA a09
        LDX a0A
b0BB2   JSR e8380
        DEX 
        BNE b0BB2
        LDA #<p0800
        STA a04
        LDA #>p0800
        STA a05
        LDA #$14
        STA a02
        JSR e8172
        LDA #$14
        CLC 
        SBC a0A
        STA a02
        JSR e8172
        LDA #$14
        CLC 
        ADC a0A
        STA a02
        JSR e8172
        LDA #$15
        STA a03
        JSR e8172
        LDA #$14
        CLC 
        SBC a0A
        STA a02
        JMP e8400

        LDX #$00
b0BEE   LDA f8E00,X
        STA f2000,X
        LDA f8F00,X
        STA f2100,X
        DEX 
        BNE b0BEE
        JMP e8100

        LDA #$0F
        STA $D418    ;Select Filter Mode and Volume
        LDA #$A0
        STA $D40F    ;Voice 3: Frequency Control - High-Byte
        LDA #$04
        STA $D413    ;Voice 3: Attack / Decay Cycle Control
        LDA #$00
        STA $D414    ;Voice 3: Sustain / Release Cycle Control
        JSR e81A2
        JSR e824F
        LDA #<p1514
        STA a0B
        LDA #>p1514
        STA a0C
        LDA #$FF
        STA a11
        LDA #>p0102
        STA a16
        LDA #<p0102
        STA a15
        LDA #$04
        STA a14
        LDA #$0A
        STA a17
        STA $D413    ;Voice 3: Attack / Decay Cycle Control
        STA a18
        JSR e8748
        LDA #$00
        STA a22
        STA a23
        STA a24
        LDA #$13
        STA a26
        LDA #$20
        STA a28
        LDA a2B
        STA a2B
        STA a2B
        LDA a2A
        STA a2A
        LDA #$00
        STA a29
        LDA #$0F
        STA $D418    ;Select Filter Mode and Volume
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        JMP e83A0

        LDA aDC11
        EOR #$FF
        STA a0E
        RTS 

        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        LDA a0A
        CMP #$00
        BEQ b0C92
        LDA #$00
        STA a30
b0C8A   DEC a30
        BNE b0C8A
b0C8E   DEC a30
        BNE b0C8E
b0C92   RTS 

        JSR e8470
        JSR e821B
        JMP e83A3

        NOP 
        NOP 
        NOP 
        NOP 
        JMP e8393

        JSR e84F8
        JSR e859B
        JSR e8635
        JSR e86D7
        JSR e8753
        JSR e889A
        JSR e88C9
        JSR e89A0
        JSR e8AC8
        JMP e83E8

        SEI 
        CLD 
        LDA #$05
        STA $D016    ;VIC Control Register 2
        JSR ROM_IOINITj ;$FDA3 (jmp) - initialize CIA & IRQ             
        JSR ROM_RAMTASj ;$FD50 (jmp) - RAM test & search RAM end        
        JSR ROM_RESTORj ;$FD15 (jmp) - restore default I/O vectors      
        JSR eE518
        CLI 
        LDA #$08
        JSR ROM_CHROUT ;$FFD2 - output character                 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        JMP e82EC

        PLA 
        TAY 
        PLA 
        TAX 
        PLA 
        RTI 

        LDX #$15
b0CEA   DEX 
        BNE b0CEA
        JMP e83A0

        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        NOP 
        JMP e83A0

        NOP 
        NOP 
        NOP 
        JSR e8172
        LDA a09
        STA a04
p0D07   DEC a0A
        LDA a0A
        CMP #$FF
        BEQ b0D1A
        LDA #$0F
        CLC 
        SBC a0A
        STA $D418    ;Select Filter Mode and Volume
        JMP e8264

b0D1A   LDA #<p0D07
        STA a04
        LDA #>p0D07
        STA a05
        LDA #>p1514
        STA a03
        LDA #<p1514
        STA a02
        JSR e8172
        LDA #$0F
        STA $D418    ;Select Filter Mode and Volume
        JSR e8450
        LDA #$08
        STA $D418    ;Select Filter Mode and Volume
        JSR e8450
        LDA #$02
        STA $D418    ;Select Filter Mode and Volume
        JSR e8450
        LDA #$00
        STA $D40B    ;Voice 2: Control Register
        LDA #$0F
        STA $D418    ;Select Filter Mode and Volume
        RTS 

        LDA #$18
        STA a0A
b0D54   LDA a0A
        STA $D408    ;Voice 2: Frequency Control - High-Byte
        LDA #$00
        STA $D40B    ;Voice 2: Control Register
        LDA #$11
        STA $D40B    ;Voice 2: Control Register
        LDX #$02
b0D65   JSR e8380
        DEX 
        BNE b0D65
        DEC a0A
        BNE b0D54
        RTS 

        DEC a0D
        BEQ b0D75
        RTS 

b0D75   JSR e8373
        LDA a0B
        STA a02
        LDA a0C
        STA a03
        JSR e818B
        CMP #$07
        BEQ b0D8A
        JSR e8BEC
b0D8A   LDA #<p0800
        STA a04
        LDA #>p0800
        STA a05
        JSR e8172
        LDA a0E
        AND #$01
        BEQ b0DA7
        DEC a03
        LDA a03
        CMP #$0E
        BNE b0DA7
        LDA #$0F
        STA a03
b0DA7   LDA a0E
        AND #$02
        BEQ b0DB9
        INC a03
        LDA a03
        CMP #$16
        BNE b0DB9
        LDA #$15
        STA a03
b0DB9   LDA a0E
        AND #$04
        BEQ b0DCB
        DEC a02
        LDA a02
        CMP #$00
        BNE b0DCB
        LDA #$01
        STA a02
b0DCB   LDA a0E
        AND #$08
        BEQ b0DDD
        INC a02
        LDA a02
        CMP #$27
        BNE b0DDD
        LDA #$26
        STA a02
b0DDD   JSR e818B
        BEQ b0DE5
        JSR e89AB
b0DE5   LDA a02
        STA a0B
        LDA a03
        STA a0C
        LDA #>p0D07
        STA a05
        LDA #<p0D07
        STA a04
        JMP e8172

        DEC a0F
        BEQ b0DFD
b0DFC   RTS 

b0DFD   LDA #$18
        STA a0F
p0E02   =*+$01
        JSR e8573
        LDA a11
        CMP #$FF
        BNE b0E22
        LDA a0E
        AND #$10
        BEQ b0DFC
        LDA a0B
        STA a10
        LDA a0C
        STA a11
        DEC a11
        LDA #<p4008
        STA a12
        LDA #>p4008
        STA a13
b0E22   LDA a10
        STA a02
        LDA a11
        STA a03
        JSR e818B
        CMP a12
        BEQ b0E38
        CMP #$00
        BEQ b0E38
        JSR e87CB
b0E38   LDA #>p0800
        STA a05
        LDA #<p0800
        STA a04
        JSR e8172
        INC a12
        LDA a12
        CMP #$0A
        BNE b0E5C
        DEC a11
        LDA a11
        CMP #$02
        BNE b0E58
        LDA #$FF
        STA a11
        RTS 

b0E58   LDA #$08
        STA a12
b0E5C   LDA a11
        STA a03
        JSR e818B
        BEQ b0E68
        JSR e87CB
b0E68   LDA a12
        STA a04
        LDA #$01
        STA a05
        JMP e8172

        LDA a13
        BNE b0E78
        RTS 

b0E78   DEC a13
        LDA a13
        ADC #$00
        STA $D401    ;Voice 1: Frequency Control - High-Byte
        LDA #$00
        STA $D404    ;Voice 1: Control Register
        LDA #$81
        STA $D404    ;Voice 1: Control Register
        LDA a13
        STA $D408    ;Voice 2: Frequency Control - High-Byte
        LDA #$00
        STA $D40B    ;Voice 2: Control Register
        LDA #$81
        STA $D40B    ;Voice 2: Control Register
        RTS 

        LDA a0D
        CMP #$01
        BEQ b0EA2
b0EA1   RTS 

b0EA2   DEC a14
        BNE b0EA1
        LDA #$02
        STA a14
        LDA #$00
        STA a02
        LDA a15
        STA a03
        LDA #$20
        STA a04
        JSR e8172
        INC a15
        LDA a15
        CMP #$16
        BNE b0EC5
        LDA #$03
        STA a15
b0EC5   LDA a15
        STA a03
        LDA #>p0101
        STA a05
        LDA #<p0101
        STA a04
        JSR e8172
        LDA #$16
        STA a03
        LDA a16
        STA a02
        LDA #$20
        JSR e85F8
        INC a16
        LDA a16
        CMP #$27
        BNE b0EED
        LDA #$01
        STA a16
b0EED   LDA a16
        STA a02
        LDA #$02
        STA a04
        JMP e85FD

        STA a04
        JMP e8172

        JSR e8172
        DEC a17
        BEQ b0F05
        RTS 

b0F05   LDA a34
        STA a17
        JSR e862F
        LDA #$00
a0F0E   STA $D412    ;Voice 3: Control Register
        LDA #$21
        STA $D412    ;Voice 3: Control Register
        LDA #<p05FF
        STA a18
        LDA #>p05FF
        STA a19
        LDA a15
        STA a1A
        LDA #$01
        STA a1B
        LDA #$15
        STA a1D
        LDA a16
        STA a1C
        RTS 

        LDA #$03
        STA $D40F    ;Voice 3: Frequency Control - High-Byte
        RTS 

        LDA a0F
        CMP #$05
        BEQ b0F3C
b0F3B   RTS 

b0F3C   LDA a18
        CMP #$FF
        BNE b0F3B
        JSR e86D0
        NOP 
        CMP #$07
        BNE b0F4E
        LDA #$05
        STA a19
b0F4E   LDA #$01
        STA a05
        LDA a19
        STA a04
        LDA #$15
        STA a1D
b0F5A   LDA a1D
        STA a03
        LDA a1C
        STA a02
        JSR e8172
        DEC a1D
        LDA a1D
        CMP #$02
        BNE b0F5A
        LDA a1A
        STA a03
        LDA a1B
        STA a02
        JSR e818B
        CMP a19
        BEQ b0FA2
        LDA #<p0800
        STA a04
        LDA #>p0800
        STA a05
        JSR e8172
        INC a1B
        LDA a1B
        STA a02
        JSR e8020
        CMP a19
        BEQ b0FA2
        LDA #$01
        STA a05
        LDA a19
        CLC 
        SBC #$01
        STA a04
        JMP e8172

b0FA2   LDA #$15
        STA a03
        LDA a1C
        STA a02
        LDA #>p0800
        STA a05
        LDA #<p0800
        STA a04
b0FB2   JSR e8172
        DEC a03
        LDA a03
        CMP #$02
        BNE b0FB2
        LDA a1A
        STA a03
        LDA #>p070F
        STA a05
        LDA #<p070F
        STA a04
        LDA #$00
        STA a18
        JMP e8172

        DEC a0F
        INC a19
        LDA a19
        RTS 

        LDA a17
        CMP #$05
        BEQ b0FDE
        RTS 

b0FDE   DEC a17
        LDA #>p0450
        STA a20
        LDA #<p0450
        STA a1F
        LDY #$00
b0FEA   LDA (p1F),Y
        BNE b0FFB
b0FEE   INC a1F
        BNE b0FEA
        INC a20
        LDA a20
        CMP #$08
        BNE b0FEA
        RTS 

b0FFB   CMP #$20
        BEQ b0FEE
f0FFF   LDX #$07
b1001   CMP f871F,X
        BEQ b100C
        DEX 
        BNE b1001
        JMP e86EE

b100C   CPX #$07
        BEQ b1019
        INX 
        LDA f871F,X
        STA (p1F),Y
        JMP e86EE

b1019   JSR e8728
        JMP e86EE

f101F   NOP 
        CLC 
        ORA a0F0E
        BPL b1037
        .BYTE $12    ;JAM 
        .BYTE $13,$A9 ;SLO ($A9),Y
        ASL 
        STA (p1F),Y
        LDX #$18
b102E   LDA f101F,X
        CMP #$FF
        BEQ b103D
        DEX 
b1037   =*+$01
        BNE b102E
        LDA #$12
        STA (p1F),Y
        RTS 

b103D   LDA a1F
        STA f0FFF,X
        LDA a20
        STA f101F,X
        RTS 

        LDX #$20
        LDA #$FF
b104C   STA f101F,X
        DEX 
        BNE b104C
        RTS 

        DEC a21
        BEQ b1058
        RTS 

b1058   LDA #$40
        STA a21
        LDX #$18
b105E   LDA f101F,X
        CMP #$FF
        BEQ b1068
        JSR e876C
b1068   DEX 
        BNE b105E
        RTS 

        LDA f0FFF,X
        STA a02
        LDA f101F,X
        STA a03
        LDY #$00
        LDA (p02),Y
        CMP #$07
        BNE b1081
        JMP e8ADE

b1081   LDA #$00
        STA (p02),Y
        LDA a03
        CLC 
        ADC #$D4
        STA a03
        LDA #$08
        STA (p02),Y
        LDA f0FFF,X
        CLC 
        ADC #$28
        STA f0FFF,X
        LDA f101F,X
        ADC #$00
        STA f101F,X
        STA a03
        LDA f0FFF,X
        STA a02
        LDA (p02),Y
        CMP #$20
        BNE b10B4
        LDA #$FF
        STA f101F,X
        RTS 

b10B4   CMP #$07
        BNE b10BB
        JMP e8ADE

b10BB   LDA #$0A
        STA (p02),Y
        LDA a03
        CLC 
        ADC #$D4
        STA a03
        LDA #$01
        STA (p02),Y
        RTS 

        LDX #$07
b10CD   CMP f871F,X
        BEQ b10D9
        DEX 
        BNE b10CD
        JMP e8A11

        RTS 

b10D9   DEX 
        BEQ b10EC
        LDA f871F,X
        STA a04
        LDA #$07
        STA a05
        LDA #$FF
        STA a11
        JMP e8801

b10EC   LDA #<p0800
        STA a04
        LDA #>p0800
        STA a05
        LDA #$FF
        STA a11
        JSR e8172
        JSR e888A
f10FE   PLA 
f10FF   PLA 
f1100   RTS 

        PLA 
        PLA 
        JMP e8172

        LDX #$28
b1108   LDA f881F,X
        STA f03FF,X
        LDA f8847,X
        STA fD7FF,X
        DEX 
        BNE b1108
        RTS 

        JSR e8806
        JMP e8D57

        .BYTE $EA,$EA,$21,$22,$24,$25,$22,$23
        .BYTE $26,$26,$27,$22,$20,$20,$19,$1A
        .BYTE $20,$30,$30,$30,$30,$30,$30,$30
        .BYTE $20,$20,$1D,$1E,$20,$30,$30,$30
        .BYTE $30,$30,$30,$30,$20,$20,$07,$20
        .BYTE $20,$34,$03,$03,$03,$03,$04,$04
        .BYTE $04,$04,$04,$04,$01,$01,$07,$07
        .BYTE $01,$03,$03,$03,$03,$03,$03,$03
        .BYTE $01,$01,$07,$07,$01,$0E,$0E,$0E
        .BYTE $0E,$0E,$0E,$0E,$01,$01
        ORA p0101
b1170   =*+$01
        .BYTE $04,$8A ;NOP $8A
        PHA 
b1172   INC f040F,X
        LDA f040F,X
        CMP #$3A
        BNE b1184
        LDA #$30
        STA f040F,X
        DEX 
        BNE b1172
b1184   PLA 
        TAX 
        DEY 
        BNE b1170
        RTS 

        LDX #$06
        LDY #$0A
        JSR e8870
        LDA #<p03F0
        STA a22
        LDA #>p03F0
        STA a23
b1199   RTS 

        LDA a0D
        AND #$01
        BEQ b1199
        LDA a22
        AND #$C0
        BEQ b11B8
        DEC a22
        LDA a22
        STA $D40F    ;Voice 3: Frequency Control - High-Byte
        LDA #$00
        STA $D412    ;Voice 3: Control Register
        LDA #$21
        STA $D412    ;Voice 3: Control Register
        RTS 

b11B8   LDA a23
        BEQ b11C3
        DEC a23
        LDA #$F0
        STA a22
        RTS 

b11C3   LDA #$04
        STA $D40F    ;Voice 3: Frequency Control - High-Byte
        RTS 

        DEC a25
        BEQ b11CE
b11CD   RTS 

b11CE   LDA #$80
        STA a25
        JSR e89C1
        LDA a24
        BEQ b11CD
        TAX 
        INC a26
        LDA a26
        CMP #$16
        BNE b11E6
        LDA #$13
        STA a26
b11E6   STX a27
        LDA f10FF,X
        STA a02
        LDA f11FF,X
        STA a03
        LDA #<p0800
        STA a04
        LDA #>p0800
        STA a05
        JSR e8995
f11FE   =*+$01
        LDX a27
f1200   =*+$01
f11FF   LDA f12FF,X
        AND #$40
        BNE b122A
        LDA f10FE,X
        STA f10FF,X
        LDA f11FE,X
        STA f11FF,X
        STA a03
        LDA f10FF,X
        STA a02
        LDA #>p0313
        STA a05
        LDA #<p0313
        STA a04
        JSR e8172
        LDX a27
        DEX 
        BNE b11E6
        RTS 

b122A   LDA f12FF,X
        AND #$02
        BNE b1235
        INC a02
        INC a02
b1235   DEC a02
        JSR e818B
        BEQ b1290
        LDX a27
        JSR e8AE9
        STA a02
        INC a03
        LDA a03
        CMP #$16
        BNE b1262
        LDA f12FF,X
        ORA #$01
        AND #$FD
        STA f12FF,X
        LDA #>p0E02
        .BYTE $8D,$03,$00 ;STA a0003
        LDA #<p0E02
        .BYTE $8D,$02,$00 ;STA a0002
        JMP e896A

b1262   LDA f12FF,X
        EOR #$03
        STA f12FF,X
        LDA a02
        STA f10FF,X
        LDA a03
        STA f11FF,X
        LDA #$03
        STA a05
        LDA a26
        STA a04
        JSR e8172
        LDX a27
        JMP e8924

        LDX #$01
        INC a26
        RTS 

        LDX a27
        INX 
        CPX a24
        RTS 

        NOP 
b1290   LDX a27
        JMP e896A

        LDA f12FF,X
        AND #$80
        BEQ b129F
        JMP e8172

b129F   RTS 

        LDA a0D
        CMP #$FF
        BNE b129F
        LDA #$80
        STA a0D
        RTS 

        LDX #$07
b12AD   CMP f871F,X
        BEQ b12B8
        DEX 
        BNE b12AD
        JMP e8BEC

b12B8   LDA a0B
        STA a02
        LDA a0C
        STA a03
        RTS 

        LDA a29
        BNE b12E6
        DEC a28
        BEQ b130C
        RTS 

b12CA   LDA #$20
        STA a28
        LDA a2B
        STA a29
        INC a24
        LDX a24
        LDA #$0A
        STA f10FF,X
        LDA #$02
        STA f11FF,X
        LDA #$41
        STA f12FF,X
        RTS 

b12E6   INC a24
        LDX a24
        LDA #$00
        STA f12FF,X
        LDA #$02
        STA f11FF,X
        LDA #$0A
        STA f10FF,X
        DEC a29
        LDA a29
f12FE   =*+$01
        CMP #$01
f1300   =*+$01
f12FF   BEQ b1302
        RTS 

b1302   DEC a29
        DEC a2A
        LDA #$80
        STA f12FF,X
        RTS 

b130C   LDA a2A
        BNE b12CA
        RTS 

        CMP #$13
        BEQ b1328
        CMP #$14
        BEQ b1321
        CMP #$15
        BEQ b1321
        NOP 
        NOP 
        NOP 
        RTS 

b1321   LDX #$04
        LDY #$03
        JSR e8870
b1328   LDX #$04
        LDY #$01
        JSR e8A99
        LDA #$FF
        STA a11
        PLA 
        PLA 
        LDX a24
b1337   LDA f10FF,X
        CMP a02
        BEQ b1342
b133E   DEX 
        BNE b1337
        RTS 

b1342   LDA f11FF,X
        CMP a03
        BNE b133E
        LDA f12FF,X
        AND #$C0
        BNE b137A
        JSR e8AA4
b1353   LDA f1200,X
        STA f11FF,X
        LDA f1100,X
        STA f10FF,X
        LDA f1300,X
        STA f12FF,X
        CPX a24
        BEQ b136D
        INX 
        JMP e8A53

b136D   LDA #>p070F
        STA a05
        LDA #<p070F
        STA a04
        DEC a24
        JMP e8172

b137A   CMP #$C0
        BEQ b1353
        CMP #$40
        BEQ b138D
        LDA f12FE,X
        ORA #$80
        STA f12FE,X
        JMP e8A53

b138D   LDA f1300,X
        ORA f12FF,X
        STA f1300,X
        JMP e8A53

        LDA #<p03F0
        STA a22
        LDA #>p03F0
        STA a23
        JMP e8870

        STX a27
b13A6   DEX 
        LDA f12FF,X
        AND #$40
        BEQ b13A6
        LDA f12FF,X
        NOP 
        NOP 
        LDX a27
        JSR e8AC1
        LDA f12FE,X
        ORA #$80
        STA f12FE,X
        RTS 

        ORA f1300,X
        STA f1300,X
        RTS 

        LDA a2A
        BEQ b13CD
b13CC   RTS 

b13CD   LDA a24
        BNE b13CC
        JMP e8C2D

        JSR e818B
        CMP #$07
        BEQ b13DE
        JMP e8172

b13DE   LDX #$F6
        TXS 
        NOP 
        NOP 
        NOP 
        JMP e8D78

        RTS 

        NOP 
        CMP #$07
        BEQ b13DE
        LDA f10FF,X
b13F0   RTS 

        CMP #$20
        BEQ b13F0
        JMP e8ADE

        LDA #$0F
        STA a33
        LDA a0B
        LDX #$08
b1400   STA f1500,X
        DEX 
        BNE b1400
        LDA a0C
        LDX #$08
b140A   STA f1600,X
        DEX 
        BNE b140A
        LDA #$00
        STA $D404    ;Voice 1: Control Register
        STA $D40B    ;Voice 2: Control Register
        STA $D412    ;Voice 3: Control Register
        LDA #$03
        STA $D401    ;Voice 1: Frequency Control - High-Byte
        LDA #$16
        STA a2D
        LDA #$00
        STA $D404    ;Voice 1: Control Register
        LDA #$81
        STA $D404    ;Voice 1: Control Register
        LDA a33
        STA $D418    ;Select Filter Mode and Volume
        LDX #$08
        LDA #>p0800
        STA a05
        LDA #<p0800
        STA a04
b143D   LDA f1500,X
        STA a02
        LDA f1600,X
        STA a03
        STX a27
        JSR e818B
        CMP a2D
        BNE b1453
        JSR e8172
b1453   LDX a27
        DEX 
        BNE b143D
        LDA #$14
b145A   JMP e8B60

        DEX 
        BNE b145A
        INC a2D
        LDA a2D
        CMP #$19
        BNE b146C
        LDA #$16
        STA a2D
b146C   LDX #$08
b146E   LDA f8BC0,X
        CMP #$80
        BEQ b147F
        CMP #$00
        BEQ b147C
        INC f1500,X
b147C   INC f1500,X
b147F   JSR e8040
        LDA f8BC8,X
        BEQ b148E
        CMP #$80
        BEQ b1491
        INC f1600,X
b148E   INC f1600,X
b1491   JSR e8056
        LDA f1500,X
        STA a02
        LDA f1600,X
        STA a03
        LDA #$01
        STA a05
        LDA a2D
        STA a04
        JSR e8BBB
        BNE b14AE
        JSR e8172
b14AE   JMP e8BD2

        DEC a33
        BMI b14B8
        JMP e8B24

b14B8   JMP e8C17

        STX a27
        JMP e818B

        NOP 
        BRK #$01
        ORA (p01,X)
        BRK #$80
        .BYTE $80,$80 ;NOP #$80
        .BYTE $80,$80 ;NOP #$80
        BRK #$01
        ORA (p01,X)
        BRK #$80
        NOP 
        LDX a27
        DEX 
        BNE b146E
        LDX #$10
b14D9   JSR e8386
        DEX 
        BNE b14D9
        LDA #$00
        STA $D404    ;Voice 1: Control Register
        LDA #$81
        STA $D404    ;Voice 1: Control Register
        JMP e8BB1

        CMP #$08
        BEQ b14FB
        CMP #$09
        BEQ b14FB
        CMP #$00
        BEQ b14FB
        JMP e8ADE

b14FB   RTS 

        LDA #<p0450
        STA a07
f1500   LDA #>p0450
        STA a08
        LDY #$00
b1506   LDA #$20
b1508   STA (p07),Y
        INC a07
        BNE b1508
        INC a08
        LDA a08
        CMP #$08
p1514   BNE b1506
        RTS 

        JSR e8BFC
        NOP 
        NOP 
        NOP 
        DEC a0427
        LDA a0427
        CMP #$30
        BEQ b152A
        JMP e8D5E

b152A   JMP e8060

        LDX #$F6
        TXS 
        JSR e8BFC
        LDX #$12
b1535   LDA f8C50,X
        STA f04FD,X
        LDA #$0E
        STA fD8FD,X
        LDA f8C62,X
        STA f054D,X
        LDA #$01
        STA fD94D,X
        DEX 
        BNE b1535
        JMP e8C75

        .BYTE $20,$29,$28,$3A,$3A,$3E,$27,$20
        .BYTE $20,$2F,$3A,$28,$3A,$24,$30,$26
        .BYTE $2F,$20,$27,$26,$3A,$27,$22,$20
        .BYTE $21,$22,$24,$25,$20,$28,$22
        .BYTE $27,$28 ;RLA a28
        JSR e3030
        INC a0427
        LDA a0427
        CMP #$3A
        BNE b1582
        DEC a0427
b1582   INC a35
        LDA a35
        CMP #$20
        BNE b158C
        DEC a35
b158C   LDX a35
        LDA f8CB4,X
        STA a2A
        LDA f8CD4,X
        STA a2B
        LDA f8CF4,X
        STA a34
b159D   INC a055F
        LDA a055F
        CMP #$3A
        BNE b15AF
        LDA #$30
        STA a055F
        INC a055E
b15AF   DEX 
        BNE b159D
        JMP e8D70

        ORA (p02,X)
        .BYTE $02,$03,$03,$03,$04,$04,$04,$04
        .BYTE $05,$05,$10,$06,$06,$06,$06,$06
        .BYTE $06,$06,$06,$06,$06,$06,$06,$06
        .BYTE $07,$07,$07,$07,$07,$07,$06,$06
        .BYTE $06,$07,$07,$08,$08,$09,$0C,$0C
        .BYTE $0A,$0A,$03,$0F,$10,$10,$11,$12
        .BYTE $13,$14,$14,$14,$15,$15,$16,$16
        .BYTE $16,$17,$03,$18,$18,$19,$10,$10
        .BYTE $10,$0F,$0E,$0D,$0C,$0B,$0A,$09
        .BYTE $09
f1600   .BYTE $09,$09,$09,$09,$09,$08,$08,$08
        .BYTE $08,$07,$07,$07,$07,$07,$07,$07
        .BYTE $07,$07,$06
        ASL a05
        NOP 
        LDA #$30
        STA a36
b161A   LDA a36
        STA aD95F
        STA aD95E
        LDX a36
b1624   JSR e8D52
        JSR e8D66
        NOP 
        STA $D408    ;Voice 2: Frequency Control - High-Byte
        NOP 
        STA $D40F    ;Voice 3: Frequency Control - High-Byte
        LDA #$00
        STA $D404    ;Voice 1: Control Register
        STA $D40B    ;Voice 2: Control Register
        STA $D412    ;Voice 3: Control Register
        LDA #$25
        STA $D404    ;Voice 1: Control Register
        STA $D40B    ;Voice 2: Control Register
        STA $D412    ;Voice 3: Control Register
        DEX 
        BNE b1624
        DEC a36
        BNE b161A
        JMP e8300

        LDA #$20
        JMP e8388

        LDA a35
        STA a35
        JMP e8D8E

        DEC a0427
        DEC a35
        JMP e8C2D

        STX a27
        LDA #$40
        SBC a27
        STA $D401    ;Voice 1: Frequency Control - High-Byte
        RTS 

        LDA #$0F
        STA $D418    ;Select Filter Mode and Volume
        JMP e8D16

        LDA #<p0800
        STA a04
        LDA #>p0800
        STA a05
        LDA a0B
        STA a02
        LDA a0C
        STA a03
        JSR e8172
        JMP e8AF8

        LDA #$01
        STA a35
        LDX #$0E
b1694   LDA f8DE0,X
        STA f04FA,X
        LDA #$03
        STA fD8FA,X
        LDA f8DF0,X
        STA f054A,X
        LDA #$01
        STA fD94A,X
        DEX 
        BNE b1694
        JMP e80D2

b16B0   LDA aDC11
        CMP #$EF
        BNE b16BA
        JMP e8DC6

b16BA   CMP #$FE
        BNE b16B0
        INC a35
        JSR e80A0
        JMP e8DB0

        DEC a35
        JMP e80E5

        .BYTE $B0,$8D,$EA,$EA,$EA,$EA,$EA,$EA
        .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA
        .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$29,$1B
        .BYTE $20,$2C,$27,$2A,$2A,$20,$2D,$24
        .BYTE $26,$3A,$27,$22,$20,$EA,$27,$26
        .BYTE $3A,$27,$22,$20,$3E,$27,$3B,$27
        .BYTE $3E,$20,$30,$30,$20,$18,$18,$18
        .BYTE $18,$FF,$18,$18,$18,$F0,$20,$10
        .BYTE $1F,$1F,$10,$20,$F0,$18,$18,$18
        .BYTE $18,$BD,$C3,$81,$81,$00,$20,$60
        .BYTE $A3,$2C,$30,$00,$00,$00,$02,$05
        .BYTE $C8,$30,$00,$00,$00,$08,$04,$3E
        .BYTE $20,$10,$10,$08,$08,$08,$08,$10
        .BYTE $10,$08,$04,$02,$04,$18,$3C,$66
        .BYTE $18,$7E,$FF,$E7,$C3,$18,$18,$18
        .BYTE $3C,$7E,$7E,$7E,$3C,$3C,$7E,$7E
        .BYTE $7E,$3C,$18,$18,$18,$42,$66,$24
        .BYTE $3C,$18,$18,$3C,$18,$00,$C0,$72
        .BYTE $1F,$1F,$72,$C0,$00,$00,$03,$4E
        .BYTE $F8,$F8,$4E,$03,$00,$00,$00,$00
        .BYTE $18,$18,$00,$00,$00,$00,$00,$18
        .BYTE $3C,$3C,$18,$00,$00,$18,$24,$5A
        .BYTE $BD,$BD,$5A,$24,$18,$99,$7E,$5A
        .BYTE $FF,$FF,$5A,$7E,$99,$66,$99,$BD
        .BYTE $5A,$5A,$BD,$99,$66,$24,$42,$A5
        .BYTE $00,$00,$A5,$42,$24,$30,$46,$48
        .BYTE $FF,$FF,$12,$62,$0C,$C0,$FC,$72
        .BYTE $F8,$1F,$4E,$3F,$03,$0B,$2F,$4E
        .BYTE $5E,$7A,$72,$F4,$D0,$00,$46,$28
        .BYTE $80,$16,$08,$20,$42,$40,$21,$06
        .BYTE $00,$00,$60,$82,$01,$02,$80,$00
        .BYTE $00,$00,$00,$01,$40,$00,$F3,$DB
        .BYTE $F3,$C3,$C3,$00,$00,$00,$03,$03
        .BYTE $03,$03,$DB,$00,$00,$C6,$C6,$00
        .BYTE $7C,$38,$38,$38,$38,$C6,$C6,$00
        .BYTE $7C,$38,$38,$38,$38,$00,$CC,$CC
        .BYTE $FC,$CC,$CC,$00,$00,$00,$F0,$66
        .BYTE $60,$66,$F0,$00,$00,$00,$10,$08
        .BYTE $7C,$08,$10,$00,$00

        *= $1800
.binary "char.bin" ; The charset
        JMP e8100
.include "padding.asm"; This appears to be redundant, duplicated data

